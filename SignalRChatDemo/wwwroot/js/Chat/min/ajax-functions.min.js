function OpenModal(a) { a ? $("#addUserModal").css("display", "flex") : $("#addUserModal").css("display", "none") } function AtivarScrollChatArea() { var a = $("#chatMessages"); a.scrollTop(a[0].scrollHeight) } function selecionarContato(t, a) { $.ajax({ url: "/Chat/ContatoSelecionado", type: "POST", contentType: "application/json", data: JSON.stringify({ WebId: t, MyNumberId: a }), success: function (a) { globalIdContact = t, $(".chat-container").html(a), AtivarScrollChatArea() } }) } function AtualizarListaDeContatos() { $.ajax({ url: "/Chat/AtualizaListaDeContatos", type: "GET", success: function (a) { $(".conversas").html(a) } }) } function SendMessageToController(a, t, n) { a = a.split(";")[1]; $.ajax({ url: "/Chat/SalvarMensagem", type: "POST", data: { WIDFrom: a, WIDTo: globalIdContact, message: t, datetime: n }, success: function (a) { console.log(a) } }) } $(document).ready(function () { $("#addButton").click(function () { $("#addUserModal").css("display", "flex") }), $(".modal-cancel").click(function () { $("#addUserModal").css("display", "none") }) }), $(document).ready(function () { $("#btnLogout").click(function () { $.ajax({ url: "/Login/LogOut", success: function (a) { window.location.href = a.redirectUrl } }) }) }), $(document).on("keypress", "#chatInput", function (a) { 13 !== a.which || a.shiftKey || (a.preventDefault(), $("#btnSendMessage").click()) });